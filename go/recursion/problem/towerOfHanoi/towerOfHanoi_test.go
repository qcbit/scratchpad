package towerofhanoi

import (
	"reflect"
	"testing"
)

const ErrorString = `got %v expect %v given %v`

func TestTowerOfHanoi(t *testing.T) {
	testCases := []struct {
		given    int
		expected [][]int
	}{
		{
			4,
			[][]int{{1, 2},
				{1, 3},
				{2, 3},
				{1, 2},
				{3, 1},
				{3, 2},
				{1, 2},
				{1, 3},
				{2, 3},
				{2, 1},
				{3, 1},
				{2, 3},
				{1, 2},
				{1, 3},
				{2, 3}}},
		{
			1,
			[][]int{{1, 3}}},
		{
			2,
			[][]int{{1, 2},
				{1, 3},
				{2, 3}}},
		{
			3,
			[][]int{{1, 3},
				{1, 2},
				{3, 2},
				{1, 3},
				{2, 1},
				{2, 3},
				{1, 3}}},
		{
			7,
			[][]int{
				{1, 3},
				{1, 2},
				{3, 2},
				{1, 3},
				{2, 1},
				{2, 3},
				{1, 3},
				{1, 2},
				{3, 2},
				{3, 1},
				{2, 1},
				{3, 2},
				{1, 3},
				{1, 2},
				{3, 2},
				{1, 3},
				{2, 1},
				{2, 3},
				{1, 3},
				{2, 1},
				{3, 2},
				{3, 1},
				{2, 1},
				{2, 3},
				{1, 3},
				{1, 2},
				{3, 2},
				{1, 3},
				{2, 1},
				{2, 3},
				{1, 3},
				{1, 2},
				{3, 2},
				{3, 1},
				{2, 1},
				{3, 2},
				{1, 3},
				{1, 2},
				{3, 2},
				{3, 1},
				{2, 1},
				{2, 3},
				{1, 3},
				{2, 1},
				{3, 2},
				{3, 1},
				{2, 1},
				{3, 2},
				{1, 3},
				{1, 2},
				{3, 2},
				{1, 3},
				{2, 1},
				{2, 3},
				{1, 3},
				{1, 2},
				{3, 2},
				{3, 1},
				{2, 1},
				{3, 2},
				{1, 3},
				{1, 2},
				{3, 2},
				{1, 3},
				{2, 1},
				{2, 3},
				{1, 3},
				{2, 1},
				{3, 2},
				{3, 1},
				{2, 1},
				{2, 3},
				{1, 3},
				{1, 2},
				{3, 2},
				{1, 3},
				{2, 1},
				{2, 3},
				{1, 3},
				{2, 1},
				{3, 2},
				{3, 1},
				{2, 1},
				{3, 2},
				{1, 3},
				{1, 2},
				{3, 2},
				{3, 1},
				{2, 1},
				{2, 3},
				{1, 3},
				{2, 1},
				{3, 2},
				{3, 1},
				{2, 1},
				{2, 3},
				{1, 3},
				{1, 2},
				{3, 2},
				{1, 3},
				{2, 1},
				{2, 3},
				{1, 3},
				{1, 2},
				{3, 2},
				{3, 1},
				{2, 1},
				{3, 2},
				{1, 3},
				{1, 2},
				{3, 2},
				{1, 3},
				{2, 1},
				{2, 3},
				{1, 3},
				{2, 1},
				{3, 2},
				{3, 1},
				{2, 1},
				{2, 3},
				{1, 3},
				{1, 2},
				{3, 2},
				{1, 3},
				{2, 1},
				{2, 3},
				{1, 3},
			}},
	}

	t.Run("TowersOfHanoi", func(t *testing.T) {
		for _, tt := range testCases {
			assertCorrect(t, tower_of_hanoi(tt.given), tt.expected, tt.given)
		}
	})
}

func assertCorrect(t *testing.T, got, expect [][]int, given int) {
	t.Helper()
	if !reflect.DeepEqual(got, expect) {
		t.Errorf(ErrorString, got, expect, given)
	}
}
